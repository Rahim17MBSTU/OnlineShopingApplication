@* @using OnlineShopingApplication.Models
@model List<Products>
@{
	ViewData["Title"] = "Cart";
}

<h1>Your Cart</h1>
<br />
<div class="row">
	<table class="table table-bordered table-dark">
		<thead class="thead-dark">
			<tr>
				<th>Image</th>
				<th>Name</th>
				<th>Price</th>
				<th>Product Type</th>
				<th>Product Color</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach(var item in Model)
			{
				<tr>
					<td>
						<img src="~/@item.Image" width="200px" height="150px" />
					</td>
					<td>@item.Name</td>
					<td>@item.Price</td>
					<td>@item.ProductTypes.ProductType</td>
					<td>@item.ProductColor</td>
					<td>
						<form asp-area="Customer" asp-action="Remove" asp-controller="Home" asp-route-id="@item.Id" method="post" style="display:inline;">
							<button type="submit" class="btn btn-danger">
								<i class="fas fa-trash-alt"></i>
							</button>
						</form>

					</td>
				</tr>
			}
		</tbody>
	
	</table>
	

</div>

<div class="row">
	<!-- Left side: Back button -->
	<div class="col-md-6">
		<a asp-action="Index" asp-controller="Home" class="btn btn-success">Back to Home</a>
	</div>

	<!-- Right side: Totals and checkout -->
	<div  style="max-width: fit-content; margin-left: auto;">
		<h3>Total Amount</h3>
		<h3>Grant Total: @Model.Sum(p => p.Price)</h3>
		<a asp-area="Customer" asp-action="Checkout" asp-controller="Order" class="btn btn-info">Check out</a>
	</div>
</div>

 *@

@using OnlineShopingApplication.Models
@model List<Products>
@{
    ViewData["Title"] = "Your Shopping Cart";
}

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="display-6">
            <i class="fas fa-shopping-cart text-primary me-2"></i>Your Shopping Cart
        </h1>
        <a asp-action="Index" asp-controller="Home" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-1"></i> Continue Shopping
        </a>
    </div>

    @if (Model.Count == 0)
    {
        <div class="alert alert-info text-center py-4">
            <i class="fas fa-cart-arrow-down fa-3x mb-3"></i>
            <h4>Your cart is empty</h4>
            <p class="mb-0">Browse our products and add items to your cart</p>
        </div>
    }
    else
    {
        <div class="card shadow-sm mb-4">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th style="width: 120px">Image</th>
                            <th>Product</th>
                            <th>Price</th>
                            <th>Category</th>
                            <th>Color</th>
                            <th style="width: 50px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach(var item in Model)
                        {
                            <tr>
                                <td>
                                    <img src="~/@item.Image" class="img-thumbnail" alt="@item.Name" style="height: 80px; width: 100px; object-fit: cover;">
                                </td>
                                <td class="align-middle">
                                    <strong>@item.Name</strong>
                                </td>
                                <td class="align-middle">
                                    @item.Price.ToString("N2") Tk
                                </td>
                                <td class="align-middle">
                                    <span class="badge bg-primary">@item.ProductTypes.ProductType</span>
                                </td>
                                <td class="align-middle">
                                    @item.ProductColor
                                </td>
                                <td class="align-middle">
                                    <form asp-area="Customer" asp-action="Remove" asp-controller="Home" asp-route-id="@item.Id" method="post">
                                        <button type="submit" class="btn btn-sm btn-outline-danger" title="Remove item">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <!-- Optional: Add coupon code field here -->
            </div>
            <div class="col-md-6">
                <div class="card border-0 shadow-sm rounded-3">
                    <div class="card-header py-3" style="background-color: #2c3e50; color: white;">
                        <h5 class="mb-0">
                            <i class="fas fa-receipt me-2"></i>Order Summary
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <span class="text-muted">Subtotal:</span>
                            <strong>@Model.Sum(p => p.Price).ToString("N2") Tk</strong>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <span class="text-muted">Shipping:</span>
                            <strong class="text-success">FREE</strong>
                        </div>
                        <hr class="my-2">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <span class="fw-bold">Total:</span>
                            <span class="fw-bold fs-4" style="color: #2c3e50;">
                                @Model.Sum(p => p.Price).ToString("N2") Tk
                            </span>
                        </div>
                        <a asp-area="Customer" asp-action="Checkout" asp-controller="Order"
                           class="btn btn-lg w-100 mt-2 py-2"
                           style="background-color: #2c3e50;
                          border: none;
                          color: white;
                          transition: all 0.3s ease;
                          box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                            <i class="fas fa-credit-card me-2"></i>Proceed to Checkout
                        </a>
                        
                    </div>
                </div>
            </div>
        </div>

    }
</div>

<style>
    .color-circle {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: inline-block;
        border: 1px solid #dee2e6;
    }
    
    .table th {
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.8rem;
        letter-spacing: 0.5px;
    }
    
    .card {
        border-radius: 0.5rem;
        overflow: hidden;
    }
</style>